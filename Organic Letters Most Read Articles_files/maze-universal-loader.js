"use strict";(()=>{var k=Object.create;var b=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty;var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var q=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of B(t))!J.call(e,n)&&n!==r&&b(e,n,{get:()=>t[n],enumerable:!(s=G(t,n))||s.enumerable});return e};var C=(e,t,r)=>(r=e!=null?k(H(e)):{},q(t||!e||!e.__esModule?b(r,"default",{value:e,enumerable:!0}):r,e));var p=u(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});function K(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:Object.getOwnPropertyDescriptor(t,r).get})}K(d,{get NATIVE_APP_NAME(){return O},get getNativeAppVersionFromUserAgent(){return z},get isNativeApp(){return x},get useIsNativeApp(){return Z}});var O="MazeParticipate";function z(e){var t=e.match(new RegExp("".concat(O,"\\/(\\d+\\.\\d+\\.\\d+)")));return t?t[1]:void 0}function x(){if(typeof window>"u"||!window.ReactNativeWebView)return!1;var e=window.navigator.userAgent,t=z(e);return!0}function Z(){return x()}});var I=u(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});function F(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:Object.getOwnPropertyDescriptor(t,r).get})}F(m,{get logMessage(){return Y},get safeJsonStringify(){return X}});function Q(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}function Y(e){try{var t=localStorage.getItem("maze:troubleshoot-mobile");t&&console.log("MobileAppCommunication: ".concat(e.name),{message:e})}catch{}}function X(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,r=new WeakSet;function s(n,i){if(n===null||(typeof n>"u"?"undefined":Q(n))!=="object")return n;if(r.has(n))return"[Circular]";if(i>t)return"[DepthLimit]";if(r.add(n),typeof n.toJSON=="function")try{var f=n.toJSON();return r.delete(n),s(f,i)}catch{}if(Array.isArray(n)){var o=n.map(function(c){return s(c,i+1)});return r.delete(n),o}var M={},l=!0,h=!1,T=void 0;try{for(var g=Object.keys(n)[Symbol.iterator](),P;!(l=(P=g.next()).done);l=!0){var _=P.value;M[_]=s(n[_],i+1)}}catch(c){h=!0,T=c}finally{try{!l&&g.return!=null&&g.return()}finally{if(h)throw T}}return r.delete(n),M}try{return JSON.stringify(s(e,0),null,2)}catch{return String(e)}}});var L=u(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});Object.defineProperty(v,"sendMessageToNativeApp",{enumerable:!0,get:function(){return re}});var ee=p(),te=I();function re(e){var t;(0,te.logMessage)(e),(0,ee.isNativeApp)()&&((t=window.ReactNativeWebView)===null||t===void 0||t.postMessage(JSON.stringify(e)))}});var w=u(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});Object.defineProperty(S,"sendMessageResponse",{enumerable:!0,get:function(){return ie}});var ne=L(),se=p(),ie=function(e,t){if((0,se.isNativeApp)()){(0,ne.sendMessageToNativeApp)({name:"MESSAGE_FROM_WEBSITE_MODAL",sourceId:"react-native-app",message:t});return}if(!(!e.source||!e.origin)){var r=e.source;r.postMessage(t,e.origin)}}});var D=C(w()),W=C(p());var oe=(e,t)=>e&&t?`${e}/static/${t}`:"",ae="62d24daa781e0cd108e0248158b75765b4d736b9",U=oe("https://snippet.maze.co",ae),y="https://snippet.maze.co/lwt";var A=e=>(t,r={})=>{let s=e.createElement("script");s.src=r.version?`${t}?t=${r.version}`:t,s.async=r.async||!1,s.defer=r.defer||!1,e.getElementsByTagName("head")[0].appendChild(s)},N=e=>(t,r={})=>{let s=e.createElement("link");s.href=r.version?`${t}?t=${r.version}`:t,s.rel=r.rel||"preload",s.as=r.as||"script",e.getElementsByTagName("head")[0].appendChild(s)};var ce="maze-connected-check-request",ue="maze-connected-check-response",pe="maze-beacon-signal",E=!1;function V(e,t){E=!0;let r=j(e);A(t)(a.lwt,{version:r}),N(t)(a.lwtCommon,{version:r})}function R(e,t){e.addEventListener("message",r=>{r.data===ce&&(0,D.sendMessageResponse)(r,{type:ue,body:{apiKey:e.mazeUniversalSnippetApiKey}}),r.data===pe&&!E&&V(e,t)},{passive:!0})}var a={lwt:`${y}/lwtScaffold.js`,lwtCommon:`${y}/maze-lwt-ui-common.js`,contextual:`${U}/contextualScaffold.js`};function fe(e){let r=new URL(e.location.href).searchParams.has("lwt"),s=!!e.sessionStorage?.getItem("maze:lwt-start");return!!e.opener&&(s||r)}var le=e=>{let t=!1,r=[],s=[];return fe(e)?(E=!0,r.push(a.lwt),s.push(a.lwtCommon),t=!0):(r.push(a.contextual),t=!1),{mazeScripts:r,mazePreLoadScripts:s,useVersionTag:t}};function j(e){let t=e.sessionStorage.getItem("maze-us")||"";if(t)return t;t=`${new Date().getTime()}`;try{e.sessionStorage.setItem("maze-us",t)}catch{}return t}function $(e,t){if((0,W.isNativeApp)()){V(e,t),R(e,t);return}let r=j(e),{mazeScripts:s,mazePreLoadScripts:n,useVersionTag:i}=le(e);s.forEach(function(o){A(t)(o,{version:i?r:void 0,async:!0})}),n.forEach(function(o){N(t)(o,{version:r})}),e.opener&&R(e,t)}$(window,document);})();
